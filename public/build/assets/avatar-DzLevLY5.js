import{r as i,j as u}from"./app-DiRqYEEa.js";import{c as I,u as j}from"./index-BqPtyLz9.js";import{u as g}from"./index-Cx_YJ5wC.js";import{P as c}from"./index-COmtOyg-.js";import{c as f}from"./utils-D0PrDNq9.js";var m="Avatar",[C,F]=I(m),[b,A]=C(m),p=i.forwardRef((a,t)=>{const{__scopeAvatar:n,...e}=a,[o,r]=i.useState("idle");return u.jsx(b,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:r,children:u.jsx(c.span,{...e,ref:t})})});p.displayName=m;var x="AvatarImage",S=i.forwardRef((a,t)=>{const{__scopeAvatar:n,src:e,onLoadingStatusChange:o=()=>{},...r}=a,l=A(x,n),s=N(e,r.referrerPolicy),d=j(v=>{o(v),l.onImageLoadingStatusChange(v)});return g(()=>{s!=="idle"&&d(s)},[s,d]),s==="loaded"?u.jsx(c.img,{...r,ref:t,src:e}):null});S.displayName=x;var L="AvatarFallback",w=i.forwardRef((a,t)=>{const{__scopeAvatar:n,delayMs:e,...o}=a,r=A(L,n),[l,s]=i.useState(e===void 0);return i.useEffect(()=>{if(e!==void 0){const d=window.setTimeout(()=>s(!0),e);return()=>window.clearTimeout(d)}},[e]),l&&r.imageLoadingStatus!=="loaded"?u.jsx(c.span,{...o,ref:t}):null});w.displayName=L;function N(a,t){const[n,e]=i.useState("idle");return g(()=>{if(!a){e("error");return}let o=!0;const r=new window.Image,l=s=>()=>{o&&e(s)};return e("loading"),r.onload=l("loaded"),r.onerror=l("error"),r.src=a,t&&(r.referrerPolicy=t),()=>{o=!1}},[a,t]),n}var R=p,_=S,h=w;function z({className:a,...t}){return u.jsx(R,{"data-slot":"avatar",className:f("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...t})}function T({className:a,...t}){return u.jsx(_,{"data-slot":"avatar-image",className:f("aspect-square size-full",a),...t})}function $({className:a,...t}){return u.jsx(h,{"data-slot":"avatar-fallback",className:f("bg-muted flex size-full items-center justify-center rounded-full",a),...t})}export{z as A,T as a,$ as b};
