import{r as s,j as e,$ as R}from"./app-D_cxsAJR.js";import{B as n}from"./badge-BmKzKny8.js";import{B as f}from"./button-C9-KU3KP.js";import{D as $,a as A,b as I,f as K,d as T,i as G,j as d}from"./dropdown-menu-CKLbtbbp.js";import{I as P}from"./input-hexLX1k7.js";import{M as _,G as E}from"./magnetic-cCGdumR1.js";import{P as U}from"./percent-D9ash0ED.js";/* empty css            */import"./index-CVhJ2b_C.js";import"./index-B6dgk1va.js";import"./utils-CupIWb6x.js";import"./index-BTIHOXDL.js";import"./index-_H2MRenN.js";import"./index-BPQplmZE.js";import"./index-M9AX0VSD.js";import"./index-CNBlk9ys.js";import"./index-LrrsdN7t.js";import"./index-BHcgqJ6k.js";import"./floating-ui.react-dom-BdHrFlmr.js";import"./index-CKBgXFGr.js";import"./index-BYlEaNls.js";import"./Combination-DOizXUMR.js";import"./createLucideIcon-pSuprED8.js";import"./check-CZPClI6K.js";import"./use-motion-value-Ul-pvnVF.js";import"./proxy-DQjrXQr7.js";import"./use-spring-hgEh1XtC.js";function pe({categories:j,courses:v,myCourseIds:k}){const[c,y]=s.useState("all"),[o,m]=s.useState(null),[x,w]=s.useState(""),[u,N]=s.useState(6),l=s.useRef(null),i=s.useRef(!1),h=s.useRef(0),g=s.useRef(0),M=r=>{var t,a;i.current=!0,h.current=r.pageX-(((t=l.current)==null?void 0:t.offsetLeft)??0),g.current=((a=l.current)==null?void 0:a.scrollLeft)??0},C=()=>{i.current=!1},L=()=>{i.current=!1},D=r=>{if(!i.current||!l.current)return;r.preventDefault();const a=(r.pageX-l.current.offsetLeft-h.current)*1.5;l.current.scrollLeft=g.current-a},S=(r,t)=>r===0?0:Math.round((r-t)/r*100),z=r=>{switch(r){case"beginner":return e.jsx(n,{className:"border-green-300 bg-green-100 text-green-700 dark:border-green-700 dark:bg-green-900/30 dark:text-green-300",children:"Beginner"});case"intermediate":return e.jsx(n,{className:"border-yellow-300 bg-yellow-100 text-yellow-700 dark:border-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300",children:"Intermediate"});case"advanced":return e.jsx(n,{className:"border-red-300 bg-red-100 text-red-700 dark:border-red-700 dark:bg-red-900/30 dark:text-red-300",children:"Advanced"});default:return null}},p=v.filter(r=>{const t=r.title.toLowerCase().includes(x.toLowerCase()),a=c==="all"?!0:r.level===c,B=o===null?!0:r.category.id===o;return t&&a&&B}),b=p.slice(0,u);return e.jsxs("section",{className:"mx-auto w-full max-w-7xl px-4 py-8",id:"course",children:[e.jsx("h2",{className:"mx-auto mb-4 max-w-4xl text-center text-3xl font-semibold md:text-4xl",children:"Tingkatkan Kemampuanmu Bersama Para Ahli"}),e.jsx("p",{className:"text-muted-foreground mx-auto mb-12 max-w-4xl text-center",children:"Akses berbagai materi pembelajaran berkualitas yang dirancang oleh para expert dan diperbarui secara berkala setiap bulannya."}),e.jsxs("div",{className:"mb-4 flex justify-between gap-2",children:[e.jsx(P,{type:"search",placeholder:"Cari kelas...",value:x,onChange:r=>w(r.target.value)}),e.jsxs($,{children:[e.jsx(A,{asChild:!0,children:e.jsx(f,{variant:"outline",children:"Filter Tingkat Kesulitan"})}),e.jsxs(I,{className:"w-56",children:[e.jsx(K,{children:"Pilih Tingkat Kesulitan"}),e.jsx(T,{}),e.jsxs(G,{value:c,onValueChange:y,children:[e.jsx(d,{value:"all",children:"Semua"}),e.jsx(d,{value:"beginner",children:"Beginner"}),e.jsx(d,{value:"intermediate",children:"Intermediate"}),e.jsx(d,{value:"advanced",children:"Advanced"})]})]})]})]}),e.jsx("div",{className:"mb-4 overflow-x-auto",ref:l,onMouseDown:M,onMouseLeave:C,onMouseUp:L,onMouseMove:D,style:{scrollbarWidth:"none",cursor:i.current?"grabbing":"grab"},children:e.jsxs("div",{className:"flex w-max flex-nowrap gap-2 select-none",children:[e.jsx("button",{type:"button",onClick:()=>m(null),className:`rounded-xl border px-4 py-2 text-sm transition hover:cursor-pointer ${o===null?"bg-primary-foreground text-secondary":"hover:bg-accent dark:hover:bg-primary/10 bg-background border-gray-300 text-gray-800 dark:border-zinc-100/20 dark:bg-zinc-800 dark:text-zinc-100"} `,children:"Semua Kategori"}),j.map(r=>e.jsx("button",{type:"button",onClick:()=>m(r.id),className:`rounded-xl border px-4 py-2 text-sm transition hover:cursor-pointer ${o===r.id?"bg-primary-foreground text-secondary":"hover:bg-accent dark:hover:bg-primary/10 bg-background border-gray-300 text-gray-800 dark:border-zinc-100/20 dark:bg-zinc-800 dark:text-zinc-100"} `,children:r.name},r.id))]})}),e.jsx("div",{className:"mb-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:b.length===0?e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center gap-4 py-12",children:[e.jsx("img",{src:"/assets/images/not-found.webp",alt:"Kelas Belum Tersedia",className:"w-48"}),e.jsx("div",{className:"text-center text-gray-500",children:"Belum ada kelas yang tersedia saat ini."})]}):b.map(r=>{const t=k.includes(r.id),a=S(r.strikethrough_price,r.price);return e.jsx(R,{href:t?`profile/my-courses/${r.slug}`:`/course/${r.slug}`,className:"h-full",children:e.jsx("div",{className:"relative h-full overflow-hidden rounded-xl bg-zinc-300/30 p-[2px] dark:bg-zinc-700/30",children:e.jsxs("div",{className:`relative flex h-full w-full flex-col rounded-lg ${t?"bg-zinc-100 dark:bg-zinc-900":"bg-sidebar dark:bg-zinc-800"}`,children:[e.jsxs("div",{className:"w-full flex-shrink-0 overflow-hidden rounded-t-lg",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.thumbnail?`/storage/${r.thumbnail}`:"/assets/images/placeholder.png",alt:r.title,className:"h-48 w-full rounded-t-lg object-cover"}),e.jsx("span",{className:"absolute top-2 left-2 rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:"Kelas"}),!t&&a>0&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs(n,{className:"bg-red-500 text-white shadow-lg",children:[e.jsx(U,{size:12,className:"mr-1"}),"Hemat ",a,"%"]})}),t&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(n,{className:"bg-green-500 text-white shadow-lg",children:"Sudah Dimiliki"})})]}),e.jsx("h2",{className:"mx-4 mt-2 line-clamp-2 text-left text-lg font-semibold",children:r.title})]}),e.jsxs("div",{className:"mt-auto w-full p-4 text-left",children:[e.jsxs("div",{className:"flex items-end justify-between",children:[t?e.jsx("p",{className:"text-primary text-sm font-medium",children:"Anda sudah memiliki akses"}):r.price===0?e.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:"Gratis"}):e.jsxs("div",{className:"",children:[r.strikethrough_price>0&&r.strikethrough_price>r.price&&e.jsxs("p",{className:"text-sm text-red-500 line-through",children:["Rp ",r.strikethrough_price.toLocaleString("id-ID")]}),e.jsxs("p",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:["Rp ",r.price.toLocaleString("id-ID")]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsx(n,{children:r.category.name}),z(r.level)]})]}),r.user&&e.jsxs("div",{className:"mt-2 flex items-center gap-3 border-t-2 border-neutral-200 pt-3 dark:border-gray-700",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0 overflow-hidden rounded-full bg-gray-200",children:r.user.avatar?e.jsx("img",{src:`/storage/${r.user.avatar}`,alt:r.user.name,className:"h-full w-full object-cover"}):e.jsx("div",{className:"from-primary flex h-full w-full items-center justify-center bg-gradient-to-br to-orange-500 text-sm font-semibold text-white",children:r.user.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:r.user.name}),e.jsx("p",{className:"text-primary text-xs",children:r.user.bio})]})]})]})]})})},r.id)})}),u<p.length&&e.jsx("div",{className:"mb-8 flex justify-center",children:e.jsx(_,{children:e.jsxs(f,{type:"button",className:"mt-8 hover:cursor-pointer",onClick:()=>N(r=>r+6),children:["Lihat Lebih Banyak ",e.jsx(E,{})]})})})]})}export{pe as default};
