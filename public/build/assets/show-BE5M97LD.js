import{K as I,r as H,j as e,L as $,$ as x,S as E}from"./app-BMZAA-xU.js";import{D as K}from"./delete-dialog-DHwBGk1W.js";import{B as h}from"./badge-cMNJdFdJ.js";import{B as m}from"./button-B9UY3oX-.js";import{C as R,a as W,b as G,d as F,c as O}from"./card-B-GYocvq.js";import{I as k}from"./input-CM8pf5Fb.js";import{S as v}from"./separator-CvcUC0os.js";import{T as q,a as J,b as u,c as g}from"./tabs-De3yPPFv.js";import{A as V}from"./admin-layout-DOmYI_Uz.js";import{t as d}from"./index-CXH2Nfpd.js";import X from"./show-analytics-fTbAgYnZ.js";import z from"./show-scholarship-participants-Dmpraw00.js";import{L as w}from"./link-hkWdvxxT.js";import{C as j}from"./calendar-DSxrYX5B.js";import{S as Q}from"./send-Cz7Ry8Kb.js";import{C as U}from"./circle-x-puB-NdEs.js";import{S as Y}from"./square-pen-Dhm_DeWd.js";import{C as Z}from"./copy-BXf5UN61.js";import{T as ee}from"./trash-CHxPWoV2.js";import{C as se}from"./clock-y70Hl0Ex.js";import{i as _}from"./isPast-DzoOH1ok.js";import{f as r}from"./format-CNjBDjOL.js";import{i}from"./id-BLKIQCr7.js";import"./alert-dialog-DjvF4pRO.js";import"./index-H--VAUvS.js";import"./index-0dFD7ZM-.js";import"./index-B6k9CUGY.js";import"./Combination-DfaVKa2I.js";import"./utils-BOHhQZSD.js";import"./index-Rmos7Bav.js";import"./index-DTGfmra2.js";import"./sonner-C4Wlbsp7.js";import"./breadcrumbs-cEsylPgu.js";import"./createLucideIcon-gbwTMCmb.js";import"./x-DEi3MTdk.js";import"./tooltip--ZAU65_L.js";import"./index-DtCGHZdU.js";import"./index-B_QqFzDQ.js";import"./index-B9k1jMCM.js";import"./index-Cx7h_qKO.js";import"./floating-ui.react-dom-DCj7-Fvg.js";import"./index-CRKcFl_d.js";import"./index-Bu-xoDrF.js";import"./index-DL0BaiXb.js";import"./dropdown-menu-Dszyop7X.js";import"./index-DxOPKaxX.js";import"./check-B3sdkhDE.js";import"./avatar-C8dXc-2V.js";import"./use-initials-CX_Lm83o.js";import"./user-CgkzkQ1N.js";import"./breadcrumb-Dr_2fquX.js";import"./chevron-right-Cq0rCZA-.js";import"./app-sidebar-header-DR4SKeih.js";import"./chevrons-up-down-Caso6Gvx.js";import"./user-check-DuYq_Wvv.js";import"./users-DIhcvZE3.js";import"./monitor-play-BLU9Sezf.js";import"./presentation-D0_ZhNP0.js";import"./gift-C6gQbWy9.js";import"./banknote-CEtFjoR_.js";import"./dollar-sign-CbMWMlUq.js";import"./file-text-BYftyU_0.js";import"./eye-DJmqA_cY.js";import"./trending-up-BvOSLhjR.js";import"./columns-scholarship-participants-GikDr9gW.js";import"./data-table-column-header-D9uEf3S6.js";import"./eye-off-CWGlRQp4.js";import"./external-link-q7E5s4Gx.js";import"./data-table-scholarship-participants-BVYIqDVv.js";import"./data-table-view-option-Q8ecj0DZ.js";import"./select-a_V4heYn.js";import"./index-CpHoBDfB.js";import"./chevron-down-CWKiSwc0.js";import"./chevron-up-ChDOZESj.js";import"./chevron-left-DvKE2xMc.js";import"./table-DQMx-ZQs.js";function ws({product:s,clickStats:C,uniqueClicks:D,recentClicks:S,scholarshipParticipants:l,scholarshipParticipantsCount:f,flash:a}){const{auth:P}=I().props,n=P.role.includes("affiliate"),M=[{title:"Sertifikasi Kerjasama",href:route("partnership-products.index")},{title:s.title,href:route("partnership-products.show",s.id)}];H.useEffect(()=>{a!=null&&a.success&&d.success(a.success),a!=null&&a.error&&d.error(a.error)},[a]);const L=()=>{E.delete(route("partnership-products.destroy",s.id))},y=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o),T=async()=>{try{await navigator.clipboard.writeText(s.registration_url),d.success("Link pendaftaran berhasil disalin!")}catch{d.error("Gagal menyalin link pendaftaran")}},B=async()=>{try{await navigator.clipboard.writeText(s.product_url),d.success("Link produk berhasil disalin!")}catch{d.error("Gagal menyalin link produk")}},b={draft:{label:"Draft",color:"bg-gray-100 text-gray-700"},published:{label:"Published",color:"bg-green-100 text-green-700"},archived:{label:"Archived",color:"bg-red-100 text-red-700"}},c=s.clicks_count||0,p=new Date(s.registration_deadline),A=_(p),t=s.event_deadline?new Date(s.event_deadline):null,N=t?_(t):!1;return e.jsxs(V,{breadcrumbs:M,children:[e.jsx($,{title:`Detail - ${s.title}`}),e.jsxs("div",{className:"px-4 py-4 md:px-6",children:[e.jsxs("h1",{className:"mb-4 text-2xl font-semibold",children:["Detail ",s.title]}),e.jsxs("div",{className:`${n?"":"lg:grid-cols-3"} grid grid-cols-1 gap-4 lg:gap-6`,children:[e.jsxs(q,{defaultValue:"detail",className:"lg:col-span-2",children:[e.jsxs(J,{children:[e.jsx(u,{value:"detail",children:"Detail Produk"}),!n&&e.jsxs(u,{value:"analytics",children:["Analitik",c>0&&e.jsx("span",{className:"bg-primary/10 ml-1 rounded-full px-2 py-0.5 text-xs",children:c})]}),!n&&s.type==="scholarship"&&e.jsxs(u,{value:"participants",children:["Peserta Beasiswa",(f??(l==null?void 0:l.length)??0)>0&&e.jsx("span",{className:"bg-primary/10 ml-1 rounded-full px-2 py-0.5 text-xs",children:f??(l==null?void 0:l.length)??0})]})]}),e.jsx(g,{value:"detail",children:e.jsxs(R,{children:[e.jsx(W,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{children:s.title}),s.category&&e.jsxs(F,{className:"mt-1",children:["Kategori: ",s.category.name]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(h,{className:b[s.status].color,children:b[s.status].label})})]})}),e.jsxs(O,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Link Pendaftaran"}),e.jsx(k,{type:"text",value:s.registration_url,readOnly:!0,className:"rounded border p-2 text-sm",placeholder:"Link Pendaftaran"}),e.jsxs(m,{type:"button",onClick:T,className:"w-full hover:cursor-pointer",disabled:s.status==="draft"||s.status==="archived",children:["Salin Link Pendaftaran ",e.jsx(w,{})]})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Link Sertifikasi Kerjasama ",n&&"(dengan kode afiliasi)"]}),e.jsx(k,{type:"text",value:s.product_url,readOnly:!0,className:"rounded border p-2 text-sm",placeholder:"Link Sertifikasi Kerjasama"}),e.jsxs(m,{type:"button",onClick:B,className:"w-full hover:cursor-pointer",disabled:s.status==="draft"||s.status==="archived",children:["Salin Link Produk ",e.jsx(w,{})]})]})]}),s.status==="published"?e.jsx("p",{className:"text-muted-foreground text-center text-sm",children:"Share link diatas ke sosial media, whatsapp, tiktok, landing page, email ataupun channel penjualan lainnya untuk mendapatkan klik dan pendaftaran sertifikasi kerjasama."}):e.jsx("p",{className:"text-center text-sm text-red-500",children:"Product ini belum diterbitkan. Silakan terbitkan product terlebih dahulu untuk membagikan link akses sertifikasi kerjasama."}),e.jsxs("div",{className:"rounded-lg border p-4 md:text-center",children:[e.jsx("h3",{className:"mb-3 text-sm font-medium",children:"Harga"}),e.jsxs("div",{className:"flex flex-col md:justify-center",children:[s.strikethrough_price>0&&e.jsx("span",{className:"text-muted-foreground text-md line-through",children:y(s.strikethrough_price)}),e.jsx("span",{className:"text-3xl font-bold",children:y(s.price)})]}),e.jsx("p",{className:"text-muted-foreground mt-2 text-xs",children:"*Harga produk, tidak untuk transaksi di platform"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsx("h3",{className:"mb-3 text-sm font-medium",children:"Tipe Kategori"}),e.jsx(h,{className:`${s.type==="scholarship"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"} border-0 text-base`,children:s.type==="scholarship"?"Beasiswa":"Reguler"})]}),s.type==="scholarship"&&(s.event_deadline||s.payment_code)&&e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsx("h3",{className:"mb-3 text-sm font-medium",children:"Info Beasiswa"}),t&&e.jsxs("div",{className:"mb-3 rounded-lg border border-gray-200 bg-gray-50 p-3",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2 text-xs font-medium text-gray-600",children:[e.jsx(j,{className:"h-3 w-3"}),"Batas Event"]}),e.jsx("p",{className:`text-sm font-medium ${N?"text-red-600":"text-gray-900"}`,children:r(t,"dd MMMM yyyy",{locale:i})}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Pukul ",r(t,"HH:mm",{locale:i})," WIB"]})]}),s.payment_code&&e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 p-3",children:[e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Payment Code"}),e.jsx("code",{className:"text-primary rounded bg-gray-100 px-1.5 py-0.5 text-xs",children:s.payment_code})]})]}),s.type==="scholarship"&&s.scholarship_group_link&&e.jsxs("div",{className:"rounded-lg border p-4",children:[e.jsx("h3",{className:"mb-3 text-sm font-medium",children:"Grup WhatsApp/Telegram"}),e.jsxs("a",{href:s.scholarship_group_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-lg bg-green-50 px-4 py-2 text-sm font-medium text-gray-700 transition hover:bg-green-100",children:[e.jsx("img",{src:"/assets/images/icon-wa.svg",alt:"WhatsApp",className:"h-8 w-8 md:h-12 md:w-12"}),"Buka Grup"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium",children:"Thumbnail"}),e.jsx("img",{src:s.thumbnail?`/storage/${s.thumbnail}`:"/assets/images/placeholder.png",alt:s.title,className:"h-56 rounded-lg border object-cover"})]}),s.short_description&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium",children:"Deskripsi Singkat"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s.short_description})]}),s.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium",children:"Deskripsi Lengkap"}),e.jsx("p",{className:"text-muted-foreground text-sm whitespace-pre-line",children:s.description})]}),s.key_points&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-sm font-medium",children:"Poin-Poin Penting"}),e.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:s.key_points}})]})]})]})}),!n&&e.jsx(g,{value:"analytics",children:e.jsx(X,{totalClicks:c,uniqueClicks:D,clickStats:C,recentClicks:S})}),!n&&s.type==="scholarship"&&e.jsx(g,{value:"participants",children:e.jsx(z,{partnershipProductId:s.id,participants:l??[]})})]}),!n&&e.jsxs("div",{children:[e.jsx("h2",{className:"my-2 text-lg font-medium",children:"Aksi & Pengaturan"}),e.jsxs("div",{className:"space-y-4 rounded-lg border p-4",children:[(s.status==="draft"||s.status==="archived")&&e.jsxs(e.Fragment,{children:[!s.thumbnail&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-50 p-3 text-center text-sm text-red-700",children:"Thumbnail belum diupload. Silakan upload thumbnail sebelum menerbitkan."}),!s.description&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-50 p-3 text-center text-sm text-red-700",children:"Deskripsi belum diisi. Silakan isi deskripsi sebelum menerbitkan."}),!s.registration_deadline&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-50 p-3 text-center text-sm text-red-700",children:"Batas pendaftaran belum diisi. Silakan isi batas pendaftaran sebelum menerbitkan."}),e.jsx(m,{asChild:!0,className:"w-full",disabled:!s.thumbnail||!s.description||!s.registration_deadline,children:e.jsxs(x,{method:"post",href:route("partnership-products.publish",s.id),children:[e.jsx(Q,{}),"Terbitkan"]})})]}),s.status==="published"&&e.jsx(m,{asChild:!0,className:"w-full",children:e.jsxs(x,{method:"post",href:route("partnership-products.archive",s.id),children:[e.jsx(U,{}),"Arsipkan"]})}),e.jsx(v,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{asChild:!0,className:"w-full",variant:"secondary",children:e.jsxs(x,{href:route("partnership-products.edit",s.id),children:[e.jsx(Y,{})," Edit"]})}),e.jsx(m,{asChild:!0,className:"w-full",variant:"secondary",children:e.jsxs(x,{method:"post",href:route("partnership-products.duplicate",s.id),children:[e.jsx(Z,{})," Duplicate"]})}),e.jsx(K,{trigger:e.jsxs(m,{variant:"destructive",className:"w-full",children:[e.jsx(ee,{})," Hapus"]}),title:"Apakah Anda yakin ingin menghapus produk ini?",itemName:s.title,onConfirm:L})]})]}),e.jsxs("div",{className:"mt-4 space-y-4 rounded-lg border p-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Informasi Produk"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[s.registration_deadline&&e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2 text-xs font-medium text-gray-600",children:[e.jsx(j,{className:"h-3 w-3"}),"Batas Pendaftaran"]}),e.jsx("p",{className:`text-sm font-medium ${A?"text-red-600":"text-gray-900"}`,children:r(p,"dd MMMM yyyy",{locale:i})}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Pukul ",r(p,"HH:mm",{locale:i})," WIB"]})]}),s.type==="scholarship"&&t&&e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2 text-xs font-medium text-gray-600",children:[e.jsx(j,{className:"h-3 w-3"}),"Batas Event"]}),e.jsx("p",{className:`text-sm font-medium ${N?"text-red-600":"text-gray-900"}`,children:r(t,"dd MMMM yyyy",{locale:i})}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Pukul ",r(t,"HH:mm",{locale:i})," WIB"]})]}),s.type==="scholarship"&&s.payment_code&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Payment Code:"}),e.jsx("code",{className:"text-primary rounded bg-gray-100 px-1.5 py-0.5 text-xs",children:s.payment_code})]}),s.schedule_days&&s.schedule_days.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2 text-xs font-medium text-gray-600",children:"Jadwal Pelaksanaan"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.schedule_days.map(o=>e.jsx(h,{variant:"outline",className:"bg-blue-50 text-xs",children:o},o))})]}),s.duration_days>0&&e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2 text-xs font-medium text-gray-600",children:[e.jsx(se,{className:"h-3 w-3"}),"Durasi Program"]}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[s.duration_days," hari"]})]}),e.jsx(v,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Slug:"}),e.jsx("code",{className:"text-primary rounded bg-gray-100 px-1.5 py-0.5 text-xs",children:s.slug})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Dibuat:"}),e.jsx("span",{className:"text-xs",children:r(new Date(s.created_at),"dd MMM yyyy",{locale:i})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Diperbarui:"}),e.jsx("span",{className:"text-xs",children:r(new Date(s.updated_at),"dd MMM yyyy",{locale:i})})]})]})]})]})]})]})]})}export{ws as default};
