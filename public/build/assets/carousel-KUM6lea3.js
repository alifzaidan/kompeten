import{r as n,j as a}from"./app-Du9Va_cx.js";import{c as v}from"./utils-CqiYvftL.js";import{u as z}from"./use-motion-value-w14ouD2T.js";import{m as h}from"./proxy-BWwhdurB.js";import{C as E}from"./chevron-left-BY0q_qY_.js";import{C as I}from"./chevron-right-ofDih9Io.js";const C=n.createContext(void 0);function g(){const e=n.useContext(C);if(!e)throw new Error("useCarousel must be used within an CarouselProvider");return e}function w({children:e,initialIndex:s=0,onIndexChange:o,disableDrag:t=!1}){const[r,i]=n.useState(s),[c,m]=n.useState(0),d=u=>{i(u),o==null||o(u)};return n.useEffect(()=>{i(s)},[s]),a.jsx(C.Provider,{value:{index:r,setIndex:d,itemsCount:c,setItemsCount:m,disableDrag:t},children:e})}function V({children:e,className:s,initialIndex:o=0,index:t,onIndexChange:r,disableDrag:i=!1}){const[c,m]=n.useState(o),d=t!==void 0,u=d?t:c,f=l=>{d||m(l),r==null||r(l)};return a.jsx(w,{initialIndex:u,onIndexChange:f,disableDrag:i,children:a.jsx("div",{className:v("group/hover relative",s),children:a.jsx("div",{className:"overflow-hidden",children:e})})})}function X({className:e,classNameButton:s,alwaysShow:o}){const{index:t,setIndex:r,itemsCount:i}=g();return a.jsxs("div",{className:v("pointer-events-none absolute left-[-5%] top-1/2 flex w-[110%] -translate-y-1/2 justify-between px-2",e),children:[a.jsx("button",{type:"button","aria-label":"Previous slide",className:v("pointer-events-auto h-fit w-fit rounded-full bg-zinc-50 p-2 transition-opacity duration-300 dark:bg-zinc-950",o?"opacity-100":"opacity-0 group-hover/hover:opacity-100",o?"disabled:opacity-40":"group-hover/hover:disabled:opacity-40",s),disabled:t===0,onClick:()=>{t>0&&r(t-1)},children:a.jsx(E,{className:"stroke-zinc-600 dark:stroke-zinc-50",size:16})}),a.jsx("button",{type:"button",className:v("pointer-events-auto h-fit w-fit rounded-full bg-zinc-50 p-2 transition-opacity duration-300 dark:bg-zinc-950",o?"opacity-100":"opacity-0 group-hover/hover:opacity-100",o?"disabled:opacity-40":"group-hover/hover:disabled:opacity-40",s),"aria-label":"Next slide",disabled:t+1===i,onClick:()=>{t<i-1&&r(t+1)},children:a.jsx(I,{className:"stroke-zinc-600 dark:stroke-zinc-50",size:16})})]})}function A({children:e,className:s,transition:o}){const{index:t,setIndex:r,setItemsCount:i,disableDrag:c}=g(),[m,d]=n.useState(1),u=z(0),f=n.useRef(null),l=n.Children.count(e);n.useEffect(()=>{if(!f.current)return;const p={root:f.current,threshold:.5},x=new IntersectionObserver(b=>{const k=b.filter(N=>N.isIntersecting).length;d(k)},p),j=f.current.children;return Array.from(j).forEach(b=>x.observe(b)),()=>x.disconnect()},[e,i]),n.useEffect(()=>{l&&i(l)},[l,i]);const y=()=>{const p=u.get();p<=-10&&t<l-1?r(t+1):p>=10&&t>0&&r(t-1)};return a.jsx(h.div,{drag:c?!1:"x",dragConstraints:c?void 0:{left:0,right:0},dragMomentum:c?void 0:!1,style:{x:c?void 0:u},animate:{translateX:`-${t*(100/m)}%`},onDragEnd:c?void 0:y,transition:o||{damping:18,stiffness:90,type:"spring",duration:.2},className:v("flex items-center",!c&&"cursor-grab active:cursor-grabbing",s),ref:f,children:e})}function O({children:e,className:s}){return a.jsx(h.div,{className:v("w-full min-w-0 shrink-0 grow-0 overflow-hidden",s),children:e})}export{V as C,A as a,O as b,X as c};
