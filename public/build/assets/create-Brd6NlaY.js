import{r as d,j as e,L as E,S as M}from"./app-Bo-d7C8B.js";import{B as R}from"./button-BaN1FpLf.js";import{u as L,F as P,a as o,b as l,c as n,d as b,e as m,f as x}from"./form-tn6kPfkH.js";import{I as f}from"./input-DC9eroR0.js";import{S as z,a as I,b as K,c as D,d as G}from"./select-DBczEzLu.js";import{T as J}from"./textarea-rIvjkRk4.js";import{A as V}from"./admin-layout-CZZis5_J.js";import{s as _,o as U,a as W,b as p}from"./types-qYXtyg8t.js";import{E as q}from"./Editor-xPK5sPVB.js";import{t as k}from"./index-D3fQDO9M.js";import{F as y}from"./file-text-D5HfuivK.js";import{C as H}from"./clock-QR04W92R.js";/* empty css            */import"./index-DX3fHEMB.js";import"./index-Dy-I-K8r.js";import"./utils-0MThrm4F.js";import"./label-CEWOMmUt.js";import"./index-XOd6aLoz.js";import"./index-BUaDNxpj.js";import"./index-BUbH7wBR.js";import"./index-DUKrC26U.js";import"./index-BJSflNVV.js";import"./index-CwCTGprv.js";import"./index-D2wPBG22.js";import"./floating-ui.react-dom-BLW81QzO.js";import"./index-BHPW-JFP.js";import"./index-CiWdBgtq.js";import"./index-DrCSAIU2.js";import"./Combination-CQM9xtkl.js";import"./chevron-down-DKzeWAsI.js";import"./createLucideIcon-DDd-3WR4.js";import"./check-CcZx0fZz.js";import"./chevron-up-Cqrbs-7D.js";import"./sonner-D3LN1uFm.js";import"./breadcrumbs-CxG9p4c5.js";import"./index-CL8aD9Ah.js";import"./x-COMgaln7.js";import"./tooltip-AbgSewVe.js";import"./index-7esFQ9so.js";import"./dropdown-menu-CUMQvE64.js";import"./avatar-lQgtq_MR.js";import"./use-initials-B2vxjHBG.js";import"./user-Duo_JK9k.js";import"./breadcrumb-C2oSgz2K.js";import"./chevron-right-BZpLylkZ.js";import"./app-sidebar-header-TSIj_01R.js";import"./chevrons-up-down-B4zPHCV4.js";import"./user-check-Bx_p6f2C.js";import"./users-Cbw5jXpK.js";import"./monitor-play-H2xMEYnb.js";import"./presentation-B-VpUaWB.js";import"./gift-DV9h--5l.js";import"./banknote-By0UKiol.js";import"./dollar-sign-CQXDr0fm.js";import"./index-CzmczF0b.js";const O=[{title:"Artikel",href:route("articles.index")},{title:"Tambah Artikel Baru",href:route("articles.create")}],Q=U({title:p().min(1,"Judul harus diisi"),category_id:p().min(1,"Kategori harus dipilih"),excerpt:p().nullable().optional(),content:p().nullable().optional(),thumbnail:W().nullable()});function Ye({categories:v}){const[S,h]=d.useState(null),[N,u]=d.useState(!1),[T,C]=d.useState(0),[g,F]=d.useState(0),a=L({resolver:_(Q),defaultValues:{title:"",category_id:"",excerpt:"",content:"",thumbnail:null}}),w=t=>{const i=t.replace(/<[^>]*>/g,"").trim().split(/\s+/).filter(s=>s.length>0).length,c=Math.max(1,Math.ceil(i/200));F(i),C(c)};function A(t){M.post(route("articles.store"),t,{forceFormData:!0})}return e.jsxs(V,{breadcrumbs:O,children:[e.jsx(E,{title:"Tambah Artikel Baru"}),e.jsxs("div",{className:"px-4 py-4 md:px-6",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Tambah Artikel Baru"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl text-sm",children:"Buat artikel blog atau konten edukatif untuk dibagikan kepada pengguna platform."}),e.jsx(P,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(A),className:"grid grid-cols-1 items-start gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{size:16}),e.jsx("h3",{className:"font-medium",children:"Informasi Artikel"})]}),e.jsx(o,{control:a.control,name:"title",render:({field:t})=>e.jsxs(l,{children:[e.jsxs(n,{children:["Judul Artikel ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(b,{children:e.jsx(f,{placeholder:"Masukkan judul artikel",...t,autoComplete:"off"})}),e.jsx(m,{})]})}),e.jsx(o,{control:a.control,name:"category_id",render:({field:t})=>e.jsxs(l,{children:[e.jsxs(n,{children:["Kategori ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(z,{onValueChange:t.onChange,defaultValue:t.value,children:[e.jsx(b,{children:e.jsx(I,{children:e.jsx(K,{placeholder:"Pilih kategori"})})}),e.jsx(D,{children:v.map(r=>e.jsx(G,{value:r.id,children:r.name},r.id))})]}),e.jsx(m,{})]})}),e.jsx(o,{control:a.control,name:"excerpt",render:({field:t})=>e.jsxs(l,{children:[e.jsx(n,{children:"Ringkasan Singkat"}),e.jsx(J,{...t,value:t.value??"",placeholder:"Ringkasan singkat artikel (maks 500 karakter)",maxLength:500,rows:3,autoComplete:"off"}),e.jsx(x,{children:"Ringkasan yang akan ditampilkan di list artikel"}),e.jsx(m,{})]})}),e.jsx(o,{control:a.control,name:"thumbnail",render:({field:t})=>e.jsxs(l,{children:[e.jsx(n,{children:"Thumbnail"}),e.jsx("img",{src:S||"/assets/images/placeholder.png",alt:"Preview Thumbnail",className:"my-1 mt-2 h-52 rounded border object-cover"}),e.jsx(f,{type:"file",name:t.name,accept:"image/png, image/jpeg, image/jpg, image/webp",className:N?"border-red-500 focus-visible:ring-red-500":"",onChange:r=>{var c;const i=((c=r.target.files)==null?void 0:c[0])??null;if(i){if(!["image/png","image/jpeg","image/jpg","image/webp"].includes(i.type)){u(!0),k.error("Gambar harus png, jpg, jpeg, atau webp");return}if(i.size>2*1024*1024){u(!0),k.error("Ukuran file maksimal 2MB!");return}}if(u(!1),t.onChange(i),i){const s=new FileReader;s.onload=B=>{var j;return h((j=B.target)==null?void 0:j.result)},s.readAsDataURL(i)}else h(null)}}),e.jsx(x,{children:"Format: PNG, JPG, JPEG, WEBP. Maksimal 2MB"}),e.jsx(m,{})]})})]}),e.jsxs("div",{className:"space-y-6 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{size:16}),e.jsx("h3",{className:"font-medium",children:"Konten Artikel"})]}),e.jsx(o,{control:a.control,name:"content",render:({field:t})=>e.jsxs(l,{children:[e.jsx(n,{children:"Konten"}),e.jsx(q,{apiKey:"f3upn9g1gl6r4m6ybrpbtceg23fxg21slzsgyhg0bui1qq4m",value:t.value??"",onEditorChange:r=>{t.onChange(r),w(r)},init:{plugins:["anchor","autolink","charmap","codesample","emoticons","image","link","lists","media","searchreplace","table","visualblocks","wordcount","code"],toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table codesample | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat | code",height:500,menubar:!1,content_style:'body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; font-size: 14px; }'}}),e.jsx(x,{children:"Tulis konten artikel dengan lengkap dan menarik"}),e.jsx(m,{})]})}),g>0&&e.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Estimasi Waktu Baca"})]}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[T," menit"]})]}),e.jsxs("p",{className:"mt-2 text-xs text-blue-700",children:[g.toLocaleString()," kata â€¢ Kecepatan baca rata-rata: 200 kata/menit"]})]})]}),e.jsx(R,{type:"submit",className:"hover:cursor-pointer lg:col-span-2",disabled:a.formState.isSubmitting,children:a.formState.isSubmitting?"Menyimpan...":"Simpan Draft Artikel"})]})})]})]})}export{Ye as default};
