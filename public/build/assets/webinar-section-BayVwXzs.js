import{r as a,j as e,$ as L}from"./app-ByYcdn8-.js";import{B as c}from"./badge-D-GZtnt6.js";import{B as M}from"./button-CPZREZ85.js";import{I as z}from"./input-ymxtCMBK.js";import{M as S,G as D}from"./magnetic-oHKOQqRi.js";import{P as $}from"./percent-BrmJHg8x.js";import{C as R}from"./calendar-DJMeqvM4.js";/* empty css            */import"./index-f2bHSftT.js";import"./index-aZYIIwcL.js";import"./utils-yhlFNeVc.js";import"./createLucideIcon-CBgsdzEp.js";import"./use-motion-value-Bjz3rRL3.js";import"./proxy-ChnsSfm_.js";import"./use-spring-DaZIV0CL.js";function F({categories:p,webinars:f,myWebinarIds:j}){const[n,o]=a.useState(null),[d,b]=a.useState(""),[m,v]=a.useState(6),l=a.useRef(null),i=a.useRef(!1),x=a.useRef(0),u=a.useRef(0),y=t=>{var s,r;i.current=!0,x.current=t.pageX-(((s=l.current)==null?void 0:s.offsetLeft)??0),u.current=((r=l.current)==null?void 0:r.scrollLeft)??0},N=()=>{i.current=!1},k=()=>{i.current=!1},C=t=>{if(!i.current||!l.current)return;t.preventDefault();const r=(t.pageX-l.current.offsetLeft-x.current)*1.5;l.current.scrollLeft=u.current-r},w=(t,s)=>t===0?0:Math.round((t-s)/t*100),h=f.filter(t=>{const s=t.title.toLowerCase().includes(d.toLowerCase()),r=n===null?!0:t.category.id===n;return s&&r}),g=h.slice(0,m);return e.jsxs("section",{className:"mx-auto w-full max-w-7xl px-4 py-8",id:"webinar",children:[e.jsx("h2",{className:"mx-auto mb-4 max-w-3xl text-center text-3xl font-semibold md:text-4xl",children:"Siap upgrade skill dan jadi lebih siap di dunia kerja digital."}),e.jsx("p",{className:"text-muted-foreground mx-auto mb-12 max-w-4xl text-center",children:"Tingkatkan wawasan dan koneksi agar lebih siap dalam dunia kerja."}),e.jsx("div",{className:"mb-4 flex",children:e.jsx(z,{type:"search",placeholder:"Cari webinar...",value:d,onChange:t=>b(t.target.value)})}),e.jsx("div",{className:"mb-4 overflow-x-auto",ref:l,onMouseDown:y,onMouseLeave:N,onMouseUp:k,onMouseMove:C,style:{scrollbarWidth:"none",cursor:i.current?"grabbing":"grab"},children:e.jsxs("div",{className:"flex w-max flex-nowrap gap-2 select-none",children:[e.jsx("button",{type:"button",onClick:()=>o(null),className:`rounded-xl border px-4 py-2 text-sm transition hover:cursor-pointer ${n===null?"bg-primary-foreground text-secondary":"hover:bg-accent dark:hover:bg-primary/10 bg-background border-gray-300 text-gray-800 dark:border-zinc-100/20 dark:bg-zinc-800 dark:text-zinc-100"} `,children:"Semua Kategori"}),p.map(t=>e.jsx("button",{type:"button",onClick:()=>o(t.id),className:`rounded-xl border px-4 py-2 text-sm transition hover:cursor-pointer ${n===t.id?"bg-primary-foreground text-secondary":"hover:bg-accent dark:hover:bg-primary/10 bg-background border-gray-300 text-gray-800 dark:border-zinc-100/20 dark:bg-zinc-800 dark:text-zinc-100"} `,children:t.name},t.id))]})}),e.jsx("div",{className:"mb-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:g.length===0?e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center gap-4 py-12",children:[e.jsx("img",{src:"/assets/images/not-found.webp",alt:"Webinar Belum Tersedia",className:"w-48"}),e.jsx("div",{className:"text-center text-gray-500",children:"Belum ada webinar yang tersedia saat ini."})]}):g.map(t=>{const s=j.includes(t.id),r=w(t.strikethrough_price,t.price);return e.jsx(L,{href:s?`profile/my-webinars/${t.slug}`:`/webinar/${t.slug}`,className:"h-full",children:e.jsx("div",{className:"relative h-full overflow-hidden rounded-xl bg-zinc-300/30 p-[2px] dark:bg-zinc-700/30",children:e.jsxs("div",{className:`relative flex h-full w-full flex-col rounded-lg ${s?"bg-zinc-100 dark:bg-zinc-900":"bg-sidebar dark:bg-zinc-800"}`,children:[e.jsxs("div",{className:"w-full flex-shrink-0 overflow-hidden rounded-t-lg",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.thumbnail?`/storage/${t.thumbnail}`:"/assets/images/placeholder.png",alt:t.title,className:"w-full rounded-t-lg object-cover md:h-72"}),e.jsx("span",{className:"absolute top-2 left-2 rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700 dark:bg-green-900 dark:text-green-300",children:"Webinar"}),!s&&r>0&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs(c,{className:"bg-red-500 text-white shadow-lg",children:[e.jsx($,{size:12,className:"mr-1"}),"Hemat ",r,"%"]})}),s&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(c,{className:"bg-green-500 text-white shadow-lg",children:"Sudah Dimiliki"})})]}),e.jsx("h2",{className:"mx-4 mt-2 line-clamp-2 text-left text-lg font-semibold",children:t.title})]}),e.jsxs("div",{className:"mt-auto w-full p-4 text-left",children:[e.jsxs("div",{className:"flex items-end justify-between",children:[s?e.jsx("p",{className:"text-primary text-sm font-medium",children:"Anda sudah memiliki akses"}):t.price===0?e.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:"Gratis"}):e.jsxs("div",{className:"",children:[t.strikethrough_price>0&&t.strikethrough_price>t.price&&e.jsxs("p",{className:"text-sm text-red-500 line-through",children:["Rp ",t.strikethrough_price.toLocaleString("id-ID")]}),e.jsxs("p",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:["Rp ",t.price.toLocaleString("id-ID")]})]}),e.jsx("div",{className:"flex flex-col items-end gap-1",children:e.jsx(c,{children:t.category.name})})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx(R,{size:"18"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(t.start_time).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}),t.user&&e.jsxs("div",{className:"mt-2 flex items-center gap-3 border-t-2 border-neutral-200 pt-3 dark:border-gray-700",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0 overflow-hidden rounded-full bg-gray-200",children:t.user.avatar?e.jsx("img",{src:`/storage/${t.user.avatar}`,alt:t.user.name,className:"h-full w-full object-cover"}):e.jsx("div",{className:"from-primary flex h-full w-full items-center justify-center bg-gradient-to-br to-orange-500 text-sm font-semibold text-white",children:t.user.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:t.user.name}),e.jsx("p",{className:"text-primary text-xs",children:t.user.bio||"Mentor"})]})]})]})]})})},t.id)})}),m<h.length&&e.jsx("div",{className:"mb-8 flex justify-center",children:e.jsx(S,{children:e.jsxs(M,{type:"button",className:"mt-8 hover:cursor-pointer",onClick:()=>v(t=>t+6),children:["Lihat Lebih Banyak ",e.jsx(D,{})]})})})]})}export{F as default};
