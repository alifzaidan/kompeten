import{r as l,j as t,L as w}from"./app-BosIeRg7.js";import{B as j}from"./button-TMo85o57.js";import{D as b,b as S}from"./dialog-LYFAXDoT.js";import{X as y}from"./x-DyVjFITz.js";import{U as _}from"./user-layout-DU1oYjv1.js";import v from"./about-section-CPomFjGW.js";import D from"./article-section-BKsJoDhX.js";import k from"./faq-section-DLSZt4Bl.js";import N from"./hero-section-qPUnycV8.js";import C from"./latest-products-section-MHxnhmw1.js";import E from"./mentor-section-DWKLrjSh.js";import L from"./testimony-section-YDrTpRbc.js";import P from"./tools-section-CG2roo6n.js";import{M as T}from"./message-circle-L5nBIaMy.js";/* empty css            */import"./index-C6BQOKi5.js";import"./index-CtGk9L1P.js";import"./utils-s7bil_xp.js";import"./index-Co6is8CA.js";import"./index-BYdOno7l.js";import"./Combination-OR_foTDg.js";import"./createLucideIcon-BpQ-z4yv.js";import"./sonner-TgCCCbnK.js";import"./index-DICbwMzx.js";import"./breadcrumbs-Bod1dgXB.js";import"./tooltip-Bwq4-6Kr.js";import"./index-BkIJUB_F.js";import"./index-D5b9_BX5.js";import"./index-CdiTP_x4.js";import"./index-BWLzd_1T.js";import"./index-AbzvFQxn.js";import"./floating-ui.react-dom-KSuQb6xu.js";import"./index-D-LpAf02.js";import"./index-DlufhD0G.js";import"./index-RpOf7_-b.js";import"./dropdown-menu-DFa7Uoxv.js";import"./index-LTdIXPFw.js";import"./check-B8mMDSsr.js";import"./avatar-B6TjRBpk.js";import"./use-initials-S8Funam-.js";import"./user-BUrT8Ur8.js";import"./breadcrumb-Bjyb-tL8.js";import"./chevron-right-DfSErBBb.js";import"./icon-FYcAp6Jd.js";import"./index-CXTDLnC7.js";import"./chevron-down-C8Lewvy7.js";import"./popover-DS7lNbr6.js";import"./monitor-play-B085WIka.js";import"./presentation-DKTxkwyK.js";import"./house-0i3rQ7H0.js";import"./file-text-DfRjcFjY.js";import"./carousel-dKhvTVlg.js";import"./use-motion-value-CpDjgkJJ.js";import"./proxy-CjyWfB-M.js";import"./chevron-left-DkrN1Qpc.js";import"./calendar-hLJ-rjR0.js";import"./arrow-right-BqJU4IU1.js";import"./format-CNjBDjOL.js";import"./id-BLKIQCr7.js";import"./accordion-Dy5rSZhS.js";import"./index-DxKnDHG_.js";import"./tabs-CT4bQmZ8.js";import"./move-right-BD8JkM9Z.js";import"./badge-CVSw9gYd.js";import"./command-3U5-pTDH.js";import"./search-o4O4TxX_.js";import"./circle-check-big-DnOFpQ_I.js";import"./clock-B6d6AEa1.js";import"./input-Dmo4WzKc.js";import"./percent-CoVI8_zx.js";import"./package-HvGFQDJa.js";import"./infinite-slider-DvEfcXeq.js";function H({promotion:e,suppressDuration:a=24}){const[c,i]=l.useState(!1),[s,r]=l.useState(!1);l.useEffect(()=>{if(!e)return;const o=`promotion_${e.id}_dismissed`,u=localStorage.getItem(o);let p=!0;if(u){const d=new Date(u);(new Date().getTime()-d.getTime())/(1e3*60*60)<a&&(p=!1)}const f=new Date,x=new Date(e.start_date),g=new Date(e.end_date);if((f<x||f>g||!e.is_active)&&(p=!1),p){const d=setTimeout(()=>{i(!0)},2e3);return()=>clearTimeout(d)}},[e,a]);const n=()=>{i(!1);const o=`promotion_${e.id}_dismissed`;localStorage.setItem(o,new Date().toISOString())},m=()=>{e.url_redirect&&(!e.url_redirect.startsWith("/")&&!e.url_redirect.startsWith(window.location.origin)?window.open(e.url_redirect,"_blank","noopener,noreferrer"):window.location.href=e.url_redirect),n()},h=o=>{o.stopPropagation()};return e?t.jsx(b,{open:c,onOpenChange:i,children:t.jsx(S,{className:"flex h-[85vh] flex-col border-0 bg-transparent p-0 shadow-none",onClick:h,children:t.jsxs("div",{className:"relative flex h-full flex-col",children:[t.jsx(j,{onClick:n,variant:"secondary",size:"icon",className:"absolute -top-4 right-2 z-10 h-8 w-8 rounded-full bg-white shadow-lg hover:bg-gray-100",children:t.jsx(y,{className:"h-4 w-4"})}),t.jsxs("div",{className:"group relative flex min-h-0 flex-1 cursor-pointer items-center justify-center overflow-hidden rounded-lg",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onClick:m,children:[t.jsx("img",{src:e.promotion_flyer,alt:"Promosi Kompeten",className:`max-h-full max-w-full rounded-2xl object-contain transition-all duration-300 ${s?"brightness-90":""}`,onError:()=>{console.error("Error loading promotion image"),n()}}),t.jsx("div",{className:`absolute right-8 bottom-4 transition-all duration-300 ${s?"opacity-100":"opacity-60"}`,children:t.jsxs("div",{className:"rounded-full bg-white/90 px-3 py-1 text-xs font-medium text-gray-700 shadow-sm backdrop-blur-sm",children:["Klik untuk ",e.url_redirect?"detail":"tutup"]})})]})]})})}):null}function te({tools:e,latestProducts:a,latestArticles:c,myProductIds:i,activePromotion:s,referralInfo:r}){return l.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("ref");m?sessionStorage.setItem("referral_code",m):r.code&&sessionStorage.setItem("referral_code",r.code)},[r]),t.jsxs(_,{children:[t.jsx(w,{title:"Beranda"}),s&&t.jsx(H,{promotion:s,suppressDuration:3}),t.jsx(N,{}),t.jsx(v,{}),t.jsx(P,{tools:e}),t.jsx(C,{latestProducts:a,myProductIds:i}),t.jsx(E,{}),t.jsx(L,{}),t.jsx(D,{articles:c}),t.jsx(k,{}),t.jsx("a",{href:"https://wa.me/+6289528514480?text=Halo%20Admin%Kompeten,%20saya%20ingin%20bertanya%20tentang%20kelas%20online.",target:"_blank",rel:"noopener noreferrer",className:"bg-secondary hover:bg-primary/80 fixed right-4 bottom-18 z-50 flex h-14 w-14 items-center justify-center rounded-full shadow-lg transition duration-1000 md:right-8 lg:bottom-6","aria-label":"Chat WhatsApp",children:t.jsx(T,{className:"text-primary-foreground h-6 w-6"})})]})}export{te as default};
